---
id: aws-secrets-manager
slug: aws-secrets-manager
title: AWS Secret Manager
---

import StoreIntroSnippet from '../components/store-intro.mdx';
import CliInstallSnippet from '../components/cli-install.mdx';
import CliUsageSnippet from '../components/cli-usage.mdx';
import CliExamplesSnippet from '../components/cli-examples.mdx';
import SdkInstallSnippet from '../components/sdk-install.mdx';
export const introStoreName = 'AWS Secrets Manager';
export const scheme = 'aws-secrets-manager';
export const uriStructure = '[accessKeyId]@[region][?secretAccessKey=][&endpoint=]';
export const uriExample = 'accessKeyId@region?secretAccessKey=key';

## Introduction

<StoreIntroSnippet storeName={introStoreName} />

## Working with the store

## CLI installation

<CliInstallSnippet />

## CLI usage

<CliUsageSnippet scheme={scheme} uriStructure={uriStructure} />

Environment variables:

- `AWS_ACCESS_KEY_ID`: Specifies an AWS access key associated with an IAM user or role.
- `AWS_SECRET_ACCESS_KEY`: Specifies the secret key associated with the access key. This is essentially the "password" for the access key.
- `AWS_REGION`: The AWS SDK compatible environment variable that specifies the AWS Region to send the request to.

<CliExamplesSnippet scheme={scheme} uriExample={uriExample} />

## SDK installation

<SdkInstallSnippet />

## SDK usage

```javascript
import { Cfgu, Set, UpsertCommand, EvalCommand, DeleteCommand, AwsSecretsManagerStore} from "@configu/node";
import path from "path";

const store = new AwsSecretsManagerStore({ credentials: { accessKeyId, secretAccessKey}, region });
const schema = new Cfgu(path.resolve(__dirname, "./example.cfgu.json"));
const set = new Set("dev");

// * Example upsert command
await new UpsertCommand({ store, set, schema, configs: [{ key: "foo", value: "bar" }] }).run();

// * Example eval command
const configs = await new EvalCommand({ store, set, schema }).run();

// * Example delete command
await new DeleteCommand({ store, set, schema }).run();
```

## References

To reference a value from this store, use the following reference format:

```node.js
{{aws-secrets-manager://<region>@[set/]<schema>[.key][?key=[key]]}}
```

Example:

```node.js
{{aws-secrets-manager://us-east-1@example-set/example-schema.foo}}
```
