# Contributing to the Configu documentation

Thank you for your interest in contributing to Configu!

Don't feel shy about contributing! All input is welcome. No fix is too trivial.

If something confuses you or feels lacking about the docs, please feel free to make an issue. If you find something that you think you can fix, please go ahead. You don't need to ask permission.

If you haven't previously contributed to other open source project, make sure to familiarize yourself with the [Contributor Covenant](https://contributor-covenant.org/).

## Writing

For small changes and spelling fixes, the GitHub UI is most convenient.
For larger contributions, consider running the project locally to see how the changes look like before making a pull request.
You can build locally with Node, as described in the project's [README](README.md).

Markdown files for the documentation are located in [`src/content`](./content) folder. The URL structure is generated by page frontmatter `slug` field.

Sidebar data is stored in the [`src/content/sidebar.json`](./content/sidebar.json) file.

Each Markdown page should start with the following frontmatter.

```yaml
---
slug: <page-slug>
title: <page title>
---
```

1. `slug` — the string with path to the page (required)
2. `title` — title of the page (required)

## Sidebar

The source of truth for sidebar generation is stored in the [`src/content/sidebar.json`](./content/sidebar.json) file. The content in this file determines sidebar hierarchy.

To add a top-level sidebar section, place a sibling in a desired position inside top-level `items` array:

```json
{
  "items": [
    // your new item
    {
      "title": "Before the overview section",
      "items": [
        // add entries to pupulate the section with subpages
      ]
    },
    {
      "title": "Overview",
      "items": [
        { "title": "Introduction", "slug": "/" },
        { "title": "Architecture", "slug": "architecture" },
        { "title": "Quick Start Guide", "slug": "quick-start" },
        { "title": "Configu's Data privacy", "slug": "data-privacy" }
      ]
    }
  ]
}
```

:warning: note, that it is not enough to define a page in a sidebar for it to appear! For each page there has to be a corresponding `.md` file used for page generation.

**Attributes breakdown**:

- the `title` attribute is required and is a represenation of a certain `.md` page in sidebar. `title` may differ from the on inside the page
- `slug` should always match page's slug. Under the hood we define the active item by comparing current page url and the passed `slug` metadata. Also the sidebar links are being constructed using this attribute.

## Headings

It is prohibited to add `h1` to a page since it will be rendered automatically using the value from `title` field of frontmatter.

Use typical `##` markdown definition to format headings which stands for a `h2` tag, e.g:

```md
## Quick start
```

The table of content will being dynamically created on each page based on `h2` tags.

You can use `###` headers as landmarks, which stands for a `h3` tag. `h3` won't make to autogenerated table of content.

## Images

The images should be sourced in docs directory and be used in `.md` with the relative path

```md
![Alt of an image](./configu-logo.png)
```

If you really have to put there some remote picture, write it like that:

```md
![Alt of an image](https://files.readme.io/9e92efd-insights-url-table-full.png)
```

But keep in mind the size of an image on the other side of a link to prevent page overweighting.

## Videos

You can embed videos with the native [video](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video) tag.

In this case you have full control over the player – you can set the width and height, play videos automatically or not, mute or not, and so on.

A video element can contain one or more video sources. To specify the source of the video, the src attribute or the `<source>` element should be used - the browser will determine the most appropriate source:

```jsx
<video>
  <source type="video/webm" src="video.webm" />
  <source type="video/mp4" src="video.mp4" />
</video>
```

> Don't forget that videos can and should be optimised. Finding the right format and how to optimise your video will help you in this [article](https://pixelpoint.io/blog/web-optimized-video-ffmpeg/)

## Admonition

To improve the documentation readability, one can leverage an Admonition custom component. Just wrap your piece of text with `<Admonition></Admonition>` and pass the type.

There are 5 types of Admonition: `note`, `warning`, `info`, `caution`, `tip`, ; the default is `note`.

You may also specify an optional title with prop `title`.

Example:

```md
<Admonition type="note" title="Your title">
  The branch creation process does not increase load on the originating project. You can create a branch at any time without worrying about downtime or performance degradation.
</Admonition>

<Admonition type="info">
  The branch creation process does not increase load on the originating project. You can create a branch at any time without worrying about downtime or performance degradation.
</Admonition>
```

## Code Tabs

To display code tabs, wrap all pieces of code with `<CodeTabs></CodeTabs>` and write labels of code tabs in order:

````md
<CodeTabs labels={["Linux", "MacOs",]}>

```shell
curl https://cli.configu.com/install.sh | sh
```

```shell
curl https://cli.configu.com/install.sh | sh
```

</CodeTabs>
````

## The rest

The rest of elements you could write as you would in native md: images, inline code, tables etc.

## Custom

It is also possible that you want to use a custom UI block in a certain `.md` document, not defined in this guide, like CTA button, or really any other piece of content from normal react page.

By no means do not copypaste generated html into md file, just import the component you need right into `md` exactly the way you would import it on any react page and provide necessary props.

If you feel like you could use another custom component, feel free to raise an issue on this matter.
